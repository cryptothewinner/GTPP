# ğŸ­ Ãœretim ModÃ¼lÃ¼ Ä°yileÅŸtirme ve Yeniden YapÄ±landÄ±rma TasarÄ±mÄ±

Mevcut "Ãœretim Ä°stasyonlarÄ±" ve basit tanÄ±mlamalar, karmaÅŸÄ±k bir Ã¼retim sÃ¼recini (Ã¶zellikle ilaÃ§/gÄ±da takviyesi gibi GMP gerektiren alanlarda) yÃ¶netmek iÃ§in yetersiz kalmaktadÄ±r. AÅŸaÄŸÄ±da, endÃ¼stri standartlarÄ±na (ISA-95) ve modern MES (Manufacturing Execution System) pratiklerine dayalÄ±, kapsamlÄ± ve profesyonel bir yapÄ± Ã¶nerisi bulunmaktadÄ±r.

## 1. Terminoloji ve HiyerarÅŸik YapÄ± (Hierarchy & Terminology)

Basit "Ä°stasyon" kavramÄ± yerine, fabrikanÄ±n fiziksel ve mantÄ±ksal yapÄ±sÄ±nÄ± tam yansÄ±tan bir hiyerarÅŸi kurmalÄ±yÄ±z.

### Ã–nerilen HiyerarÅŸi Modeli:
1.  **Enterprise (Åirket/Holding):** En Ã¼st seviye organizasyon.
2.  **Site (Tesis/Fabrika):** Fiziksel lokasyon (Ã–rn: Ä°stanbul FabrikasÄ±).
3.  **Area (Ãœretim AlanÄ±):** Fiziksel veya mantÄ±ksal bÃ¶lÃ¼mleme (Ã–rn: KatÄ± Ãœretim AlanÄ±, Likit Ãœretim AlanÄ±, Ambalaj AlanÄ±).
    *   *Ã–zellikler:* Temizlik SÄ±nÄ±fÄ± (Grade A/B/C/D), SÄ±caklÄ±k/Nem kontrolÃ¼ gereksinimleri.
4.  **Work Center (Ä°ÅŸ Merkezi):** Belirli bir iÅŸin yapÄ±ldÄ±ÄŸÄ± ana birim (Ã–rn: GranÃ¼lasyon HattÄ± 1, Tablet BaskÄ± OdasÄ± 2).
    *   *Ã–zellikler:* Maliyet merkezi kodu, kapasite planlama birimi.
5.  **Work Unit / Equipment (Ä°ÅŸ Ãœnitesi / Ekipman):** Ä°ÅŸ merkezindeki spesifik makineler (Ã–rn: Mikser A, FÄ±rÄ±n B).

---

## 2. VarlÄ±k TanÄ±mlarÄ± (Entity Definitions)

### A. Ãœretim KaynaklarÄ± (Production Resources)
"Ä°stasyon" yerine **Resource (Kaynak)** kavramÄ±nÄ± merkeze alalÄ±m. Kaynaklar sadece makineler deÄŸildir; insan, ekipman ve araÃ§lar da birer kaynaktÄ±r.

#### `Equipment` (Ekipman/Makine)
Bir makineyi sadece "adÄ±" ile deÄŸil, yetenekleri ve durumlarÄ±yla tanÄ±mlamalÄ±yÄ±z.
*   **Temel Bilgiler:** Marka, Model, Seri No, Envanter No, Kurulum Tarihi.
*   **Capability (Yetenekler):** Bu makine ne yapabilir? (Ã–rn: `KarÄ±ÅŸtÄ±rma`, `IsÄ±tma`, `Tablet Basma`).
    *   *Parametreler:* Min/Max HÄ±z, Kapasite (kg/saat), Ã‡alÄ±ÅŸma AralÄ±ÄŸÄ±.
*   **Operational Status:**
    *   `Idle` (BoÅŸta), `Running` (Ã‡alÄ±ÅŸÄ±yor), `Down` (ArÄ±zalÄ±), `Setup` (Kurulum), `Cleaning` (Temizlikte).
*   **Maintenance Profile:** Periyodik bakÄ±m takvimi, son kalibrasyon tarihi.

#### `Personnel` (Personel/OperatÃ¶r)
*   **Skills/Certifications:** Hangi makineleri kullanabilir? Hangi GMP eÄŸitimlerini aldÄ±? (Ã–rn: `Forklift Ehliyeti`, `GranÃ¼lasyon OperatÃ¶rÃ¼ SertifikasÄ±`).
*   **Shift Availability:** Hangi vardiyada Ã§alÄ±ÅŸÄ±yor?

---

## 3. SÃ¼reÃ§ TanÄ±mlarÄ± (Process Definitions)

Mevcut "ReÃ§ete" ve "Rota" kavramlarÄ±nÄ± daha detaylÄ± hale getirmeliyiz.

### A. Master Recipe & Bill of Process (BOP)
Sadece malzeme listesi (BOM) deÄŸil, "NasÄ±l YapÄ±lÄ±r?" bilgisini iÃ§eren SÃ¼reÃ§ Listesi (BOP).

*   **Process Segment (SÃ¼reÃ§ ParÃ§asÄ±):**
    *   Ã–rn: "Kuru KarÄ±ÅŸtÄ±rma", "Islak GranÃ¼lasyon", "Eleme".
*   **Operation (Operasyon):**
    *   Her bir adÄ±mÄ±n detaylÄ± tanÄ±mÄ±.
    *   *Gereksinimler:* Hangi yetenekte makine lazÄ±m? KaÃ§ operatÃ¶r lazÄ±m? Ortam ÅŸartlarÄ± ne olmalÄ±?
*   **Standard Operating Procedures (SOP):**
    *   OperatÃ¶rÃ¼n ekranda gÃ¶receÄŸi adÄ±m adÄ±m talimatlar. (Dijital iÅŸ emri).
    *   *Kontrol NoktalarÄ±:* "pH Ã¶lÃ§ ve gir", "SÄ±caklÄ±k 50Â°C olana kadar bekle".

---

## 4. Yeni VeritabanÄ± ÅemasÄ± TaslaÄŸÄ± (Brainstorming Schema)

Basit yapÄ±dan profesyonel yapÄ±ya geÃ§iÅŸ iÃ§in Ã¶nerilen modeller:

```prisma
// â”€â”€â”€ ALTYAPI VE YERLEÅÄ°M (INFRASTRUCTURE) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

model PlantStep {
  // Fabrika -> Alan -> BÃ¶lÃ¼m hiyerarÅŸisi
  id          String @id
  name        String
  type        PlantStepType // SITE, AREA, CELL, LINE
  parentId    String?
  // Temizlik sÄ±nÄ±fÄ±, ortam ÅŸartlarÄ± vb.
  environmentSpecs Json? 
}

model WorkCenter {
  // Ä°ÅŸ Merkezi: Kapasite planlamasÄ±nÄ±n yapÄ±ldÄ±ÄŸÄ± yer
  id            String @id
  code          String
  name          String
  plantStepId   String // Hangi alanda?
  
  // Planlama Parametreleri
  efficiency    Decimal @default(100) // OEE katsayÄ±sÄ±
  hourlyCost    Decimal // Ä°ÅŸÃ§ilik + Enerji maliyeti
  capacityType  CapacityType // TIME_BASED, UNIT_BASED
}

model Equipment {
  // Fiziksel Makineler
  id            String @id
  workCenterId  String
  name          String
  serialNumber  String
  model         String
  
  // Durum ve Takip
  status        EquipmentStatus // ACTIVE, MAINTENANCE, CALIBRATION_DUE
  lastCalibration DateTime?
  nextCalibration DateTime?
  
  // Yetenekler (Bu makine ne yapabilir?)
  capabilities  EquipmentCapability[]
}

model EquipmentCapability {
  // Ã–rn: Makine A "KarÄ±ÅŸtÄ±rma" yapabilir, Kapasitesi 500kg/saat
  id            String @id
  equipmentId   String
  processType   String // MIXING, HEATING, PACKING
  minCapacity   Decimal
  maxCapacity   Decimal
  parameters    Json // HÄ±z, BasÄ±nÃ§ vb. limitleri
}

// â”€â”€â”€ SÃœREÃ‡ TANIMLARI (PROCESS DEFINITION) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

model ProcessDefinition {
  // ÃœrÃ¼n ReÃ§etesi + Operasyonlar (BOM + BOP)
  id          String @id
  productId   String
  version     String
  status      String // DRAFT, APPROVED, OBSOLETE
  
  steps       ProcessStep[]
}

model ProcessStep {
  id             String @id
  definitionId   String
  sequence       Int // AdÄ±m sÄ±rasÄ± (10, 20, 30)
  name           String // "GranÃ¼lasyon HazÄ±rlÄ±k"
  description    String
  
  // Gereksinimler
  requiredCapability String? // "MIXING" yeteneÄŸi olan bir makine lazÄ±m
  targetWorkCenterId String? // Veya spesifik merkez
  
  // SÃ¼re ve Kaynak
  setupTime      Int // Dakika
  runTimePerUnit Int // Saniye
  
  // Talimatlar ve Kontroller
  instructions   Instruction[]
  inputs         ProcessInput[] // KullanÄ±lacak malzemeler (Recipe Item)
}

model Instruction {
  // OperatÃ¶r ekranÄ±na Ã§Ä±kacak adÄ±mlar
  id          String @id
  stepId      String
  text        String // "SÄ±caklÄ±ÄŸÄ± kontrol et"
  type        InstructionType // CHECK, INPUT, CONFIRMATION
  mandatory   Boolean
}
```

## 5. UI/UX YansÄ±malarÄ± (KullanÄ±cÄ± ArayÃ¼zÃ¼)

Bu yapÄ±yÄ± "Listeler" yerine gÃ¶rsel araÃ§larla sunmalÄ±yÄ±z:

1.  **Fabrika HaritasÄ± (Digital Twin Lite):**
    *   Ãœretim alanlarÄ±nÄ± kuÅŸ bakÄ±ÅŸÄ± veya blok diyagram olarak gÃ¶steren, makinelerin durumunu (YeÅŸil/KÄ±rmÄ±zÄ±) anlÄ±k yansÄ±tan bir gÃ¶rsel paneli.
2.  **Kaynak Planlama Takvimi (Gantt Chart):**
    *   Ä°ÅŸ merkezlerinin doluluk oranlarÄ±nÄ± gÃ¶steren sÃ¼rÃ¼kle-bÄ±rak zaman Ã§izelgesi.
3.  **Ä°ÅŸ Ä°stasyonu Tableti (Operator Panel):**
    *   OperatÃ¶rÃ¼n sadece "BaÅŸlat/Durdur" dediÄŸi deÄŸil, dijital SOP'leri (TalimatlarÄ±) gÃ¶rÃ¼p onay verdiÄŸi, tablet uyumlu arayÃ¼z.

## Ã–zet DeÄŸerlendirme

Mevcut yapÄ±daki "Station" (Ä°stasyon) kavramÄ± Ã§ok statik ve yetersizdi. Yeni **"Work Center & Equipment Capabilities"** yapÄ±sÄ± ile:
*   Hangi makinenin hangi iÅŸi yapabildiÄŸini dinamik yÃ¶netebilirsiniz.
*   Makine bozulursa, "AynÄ± yetenekteki" diÄŸer makineyi sistem Ã¶nerebilir.
*   BakÄ±m ve Kalibrasyon sÃ¼reÃ§leri Ã¼retim planlamasÄ±yla entegre olur.

Bu yapÄ±yÄ± onaylarsanÄ±z, veritabanÄ± ÅŸemasÄ±nÄ± (Prisma) bu yÃ¶nde gÃ¼ncelleyebilirim.
